"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.QueryOperators = undefined;

var _abstractOperators = require("./abstract-operators");

function deserialize(source, document) {
    return source.serializer.deserializeDocument(document);
}
const QueryOperators = exports.QueryOperators = {
    findRecord(source, query) {
        return _abstractOperators.AbstractOperators.findRecord(source, query).then(data => deserialize(source, data));
    },
    findRecords(source, query) {
        return _abstractOperators.AbstractOperators.findRecords(source, query).then(data => deserialize(source, data));
    },
    findRelatedRecord(source, query) {
        return _abstractOperators.AbstractOperators.findRelatedRecord(source, query).then(data => deserialize(source, data));
    },
    findRelatedRecords(source, query) {
        return _abstractOperators.AbstractOperators.findRelatedRecords(source, query).then(data => deserialize(source, data));
    }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9xdWVyeS1vcGVyYXRvcnMuanMiXSwibmFtZXMiOlsiZGVzZXJpYWxpemUiLCJzb3VyY2UiLCJkb2N1bWVudCIsInNlcmlhbGl6ZXIiLCJkZXNlcmlhbGl6ZURvY3VtZW50IiwiUXVlcnlPcGVyYXRvcnMiLCJmaW5kUmVjb3JkIiwicXVlcnkiLCJBYnN0cmFjdE9wZXJhdG9ycyIsInRoZW4iLCJkYXRhIiwiZmluZFJlY29yZHMiLCJmaW5kUmVsYXRlZFJlY29yZCIsImZpbmRSZWxhdGVkUmVjb3JkcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBLFNBQVNBLFdBQVQsQ0FBcUJDLE1BQXJCLEVBQTZCQyxRQUE3QixFQUF1QztBQUNuQyxXQUFPRCxPQUFPRSxVQUFQLENBQWtCQyxtQkFBbEIsQ0FBc0NGLFFBQXRDLENBQVA7QUFDSDtBQUNNLE1BQU1HLDBDQUFpQjtBQUMxQkMsZUFBV0wsTUFBWCxFQUFtQk0sS0FBbkIsRUFBMEI7QUFDdEIsZUFBT0MscUNBQWtCRixVQUFsQixDQUE2QkwsTUFBN0IsRUFBcUNNLEtBQXJDLEVBQTRDRSxJQUE1QyxDQUFpREMsUUFBUVYsWUFBWUMsTUFBWixFQUFvQlMsSUFBcEIsQ0FBekQsQ0FBUDtBQUNILEtBSHlCO0FBSTFCQyxnQkFBWVYsTUFBWixFQUFvQk0sS0FBcEIsRUFBMkI7QUFDdkIsZUFBT0MscUNBQWtCRyxXQUFsQixDQUE4QlYsTUFBOUIsRUFBc0NNLEtBQXRDLEVBQTZDRSxJQUE3QyxDQUFrREMsUUFBUVYsWUFBWUMsTUFBWixFQUFvQlMsSUFBcEIsQ0FBMUQsQ0FBUDtBQUNILEtBTnlCO0FBTzFCRSxzQkFBa0JYLE1BQWxCLEVBQTBCTSxLQUExQixFQUFpQztBQUM3QixlQUFPQyxxQ0FBa0JJLGlCQUFsQixDQUFvQ1gsTUFBcEMsRUFBNENNLEtBQTVDLEVBQW1ERSxJQUFuRCxDQUF3REMsUUFBUVYsWUFBWUMsTUFBWixFQUFvQlMsSUFBcEIsQ0FBaEUsQ0FBUDtBQUNILEtBVHlCO0FBVTFCRyx1QkFBbUJaLE1BQW5CLEVBQTJCTSxLQUEzQixFQUFrQztBQUM5QixlQUFPQyxxQ0FBa0JLLGtCQUFsQixDQUFxQ1osTUFBckMsRUFBNkNNLEtBQTdDLEVBQW9ERSxJQUFwRCxDQUF5REMsUUFBUVYsWUFBWUMsTUFBWixFQUFvQlMsSUFBcEIsQ0FBakUsQ0FBUDtBQUNIO0FBWnlCLENBQXZCIiwiZmlsZSI6ImxpYi9xdWVyeS1vcGVyYXRvcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBYnN0cmFjdE9wZXJhdG9ycyB9IGZyb20gXCIuL2Fic3RyYWN0LW9wZXJhdG9yc1wiO1xuZnVuY3Rpb24gZGVzZXJpYWxpemUoc291cmNlLCBkb2N1bWVudCkge1xuICAgIHJldHVybiBzb3VyY2Uuc2VyaWFsaXplci5kZXNlcmlhbGl6ZURvY3VtZW50KGRvY3VtZW50KTtcbn1cbmV4cG9ydCBjb25zdCBRdWVyeU9wZXJhdG9ycyA9IHtcbiAgICBmaW5kUmVjb3JkKHNvdXJjZSwgcXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIEFic3RyYWN0T3BlcmF0b3JzLmZpbmRSZWNvcmQoc291cmNlLCBxdWVyeSkudGhlbihkYXRhID0+IGRlc2VyaWFsaXplKHNvdXJjZSwgZGF0YSkpO1xuICAgIH0sXG4gICAgZmluZFJlY29yZHMoc291cmNlLCBxdWVyeSkge1xuICAgICAgICByZXR1cm4gQWJzdHJhY3RPcGVyYXRvcnMuZmluZFJlY29yZHMoc291cmNlLCBxdWVyeSkudGhlbihkYXRhID0+IGRlc2VyaWFsaXplKHNvdXJjZSwgZGF0YSkpO1xuICAgIH0sXG4gICAgZmluZFJlbGF0ZWRSZWNvcmQoc291cmNlLCBxdWVyeSkge1xuICAgICAgICByZXR1cm4gQWJzdHJhY3RPcGVyYXRvcnMuZmluZFJlbGF0ZWRSZWNvcmQoc291cmNlLCBxdWVyeSkudGhlbihkYXRhID0+IGRlc2VyaWFsaXplKHNvdXJjZSwgZGF0YSkpO1xuICAgIH0sXG4gICAgZmluZFJlbGF0ZWRSZWNvcmRzKHNvdXJjZSwgcXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIEFic3RyYWN0T3BlcmF0b3JzLmZpbmRSZWxhdGVkUmVjb3Jkcyhzb3VyY2UsIHF1ZXJ5KS50aGVuKGRhdGEgPT4gZGVzZXJpYWxpemUoc291cmNlLCBkYXRhKSk7XG4gICAgfVxufTsiXX0=