import { AbstractOperators } from "./abstract-operators";
function deserialize(source, document) {
    return source.serializer.deserializeDocument(document);
}
export var QueryOperators = {
    findRecord: function (source, query) {
        return AbstractOperators.findRecord(source, query).then(function (data) {
            return deserialize(source, data);
        });
    },
    findRecords: function (source, query) {
        return AbstractOperators.findRecords(source, query).then(function (data) {
            return deserialize(source, data);
        });
    },
    findRelatedRecord: function (source, query) {
        return AbstractOperators.findRelatedRecord(source, query).then(function (data) {
            return deserialize(source, data);
        });
    },
    findRelatedRecords: function (source, query) {
        return AbstractOperators.findRelatedRecords(source, query).then(function (data) {
            return deserialize(source, data);
        });
    }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9xdWVyeS1vcGVyYXRvcnMuanMiXSwibmFtZXMiOlsiQWJzdHJhY3RPcGVyYXRvcnMiLCJkZXNlcmlhbGl6ZSIsInNvdXJjZSIsImRvY3VtZW50Iiwic2VyaWFsaXplciIsImRlc2VyaWFsaXplRG9jdW1lbnQiLCJRdWVyeU9wZXJhdG9ycyIsImZpbmRSZWNvcmQiLCJxdWVyeSIsInRoZW4iLCJkYXRhIiwiZmluZFJlY29yZHMiLCJmaW5kUmVsYXRlZFJlY29yZCIsImZpbmRSZWxhdGVkUmVjb3JkcyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsaUJBQVQsUUFBa0Msc0JBQWxDO0FBQ0EsU0FBU0MsV0FBVCxDQUFxQkMsTUFBckIsRUFBNkJDLFFBQTdCLEVBQXVDO0FBQ25DLFdBQU9ELE9BQU9FLFVBQVAsQ0FBa0JDLG1CQUFsQixDQUFzQ0YsUUFBdEMsQ0FBUDtBQUNIO0FBQ0QsT0FBTyxJQUFNRyxpQkFBaUI7QUFDMUJDLGNBRDBCLFlBQ2ZMLE1BRGUsRUFDUE0sS0FETyxFQUNBO0FBQ3RCLGVBQU9SLGtCQUFrQk8sVUFBbEIsQ0FBNkJMLE1BQTdCLEVBQXFDTSxLQUFyQyxFQUE0Q0MsSUFBNUMsQ0FBaUQ7QUFBQSxtQkFBUVIsWUFBWUMsTUFBWixFQUFvQlEsSUFBcEIsQ0FBUjtBQUFBLFNBQWpELENBQVA7QUFDSCxLQUh5QjtBQUkxQkMsZUFKMEIsWUFJZFQsTUFKYyxFQUlOTSxLQUpNLEVBSUM7QUFDdkIsZUFBT1Isa0JBQWtCVyxXQUFsQixDQUE4QlQsTUFBOUIsRUFBc0NNLEtBQXRDLEVBQTZDQyxJQUE3QyxDQUFrRDtBQUFBLG1CQUFRUixZQUFZQyxNQUFaLEVBQW9CUSxJQUFwQixDQUFSO0FBQUEsU0FBbEQsQ0FBUDtBQUNILEtBTnlCO0FBTzFCRSxxQkFQMEIsWUFPUlYsTUFQUSxFQU9BTSxLQVBBLEVBT087QUFDN0IsZUFBT1Isa0JBQWtCWSxpQkFBbEIsQ0FBb0NWLE1BQXBDLEVBQTRDTSxLQUE1QyxFQUFtREMsSUFBbkQsQ0FBd0Q7QUFBQSxtQkFBUVIsWUFBWUMsTUFBWixFQUFvQlEsSUFBcEIsQ0FBUjtBQUFBLFNBQXhELENBQVA7QUFDSCxLQVR5QjtBQVUxQkcsc0JBVjBCLFlBVVBYLE1BVk8sRUFVQ00sS0FWRCxFQVVRO0FBQzlCLGVBQU9SLGtCQUFrQmEsa0JBQWxCLENBQXFDWCxNQUFyQyxFQUE2Q00sS0FBN0MsRUFBb0RDLElBQXBELENBQXlEO0FBQUEsbUJBQVFSLFlBQVlDLE1BQVosRUFBb0JRLElBQXBCLENBQVI7QUFBQSxTQUF6RCxDQUFQO0FBQ0g7QUFaeUIsQ0FBdkIiLCJmaWxlIjoibGliL3F1ZXJ5LW9wZXJhdG9ycy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFic3RyYWN0T3BlcmF0b3JzIH0gZnJvbSBcIi4vYWJzdHJhY3Qtb3BlcmF0b3JzXCI7XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZShzb3VyY2UsIGRvY3VtZW50KSB7XG4gICAgcmV0dXJuIHNvdXJjZS5zZXJpYWxpemVyLmRlc2VyaWFsaXplRG9jdW1lbnQoZG9jdW1lbnQpO1xufVxuZXhwb3J0IGNvbnN0IFF1ZXJ5T3BlcmF0b3JzID0ge1xuICAgIGZpbmRSZWNvcmQoc291cmNlLCBxdWVyeSkge1xuICAgICAgICByZXR1cm4gQWJzdHJhY3RPcGVyYXRvcnMuZmluZFJlY29yZChzb3VyY2UsIHF1ZXJ5KS50aGVuKGRhdGEgPT4gZGVzZXJpYWxpemUoc291cmNlLCBkYXRhKSk7XG4gICAgfSxcbiAgICBmaW5kUmVjb3Jkcyhzb3VyY2UsIHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBBYnN0cmFjdE9wZXJhdG9ycy5maW5kUmVjb3Jkcyhzb3VyY2UsIHF1ZXJ5KS50aGVuKGRhdGEgPT4gZGVzZXJpYWxpemUoc291cmNlLCBkYXRhKSk7XG4gICAgfSxcbiAgICBmaW5kUmVsYXRlZFJlY29yZChzb3VyY2UsIHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBBYnN0cmFjdE9wZXJhdG9ycy5maW5kUmVsYXRlZFJlY29yZChzb3VyY2UsIHF1ZXJ5KS50aGVuKGRhdGEgPT4gZGVzZXJpYWxpemUoc291cmNlLCBkYXRhKSk7XG4gICAgfSxcbiAgICBmaW5kUmVsYXRlZFJlY29yZHMoc291cmNlLCBxdWVyeSkge1xuICAgICAgICByZXR1cm4gQWJzdHJhY3RPcGVyYXRvcnMuZmluZFJlbGF0ZWRSZWNvcmRzKHNvdXJjZSwgcXVlcnkpLnRoZW4oZGF0YSA9PiBkZXNlcmlhbGl6ZShzb3VyY2UsIGRhdGEpKTtcbiAgICB9XG59OyJdfQ==